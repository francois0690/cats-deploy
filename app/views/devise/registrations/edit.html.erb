<div class="my-form">
  <div class="form-header">
    <!-- <h2>Edition du compte <%#= current_user.admin? ? ' Administrateur' : '' %> </h2> -->
      <h2>Modification du mot de passe du compte</h2>
  </div>

  <div class="form-body">


    <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <%= f.error_notification %>

      <!-- <div class="form-inputs"> -->
        <%= f.input :email,
         required: true,
          # autofocus: true,
          disabled: true,
          hint: "Vous ne pouvez pas changer votre email" %>

        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <p>Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
        <% end %>

        <%= f.input :password,
                    # hint: "leave it blank if you don't want to change it",
                    hint: "laissez ce champ vide si vous ne souhaitez pas le modifier",
                    label: "Nouveau mot de passe",
                    autofocus: true,
                    required: false,
                    input_html: { autocomplete: "new-password" } %>
        <%= f.input :password_confirmation,
                    label: "Confirmation du nouveau mot de passe",
                    required: false,
                    input_html: { autocomplete: "new-password" } %>
        <%= f.input :current_password,
                    # hint: "we need your current password to confirm your changes",
                    hint: "Nous avons besoin de votre mot de passe actuel pour confirmer le changement",
                    label: "Mot de passe actuel",
                    required: true,
                    input_html: { autocomplete: "current-password" } %>
      <!-- </div> -->
<br>
      <div class="form-actions">

        <%= f.button :submit, "Valider", class: "btn btn-success mx-1" %>
        <%= link_to 'Annuler', root_path, class: "btn btn-outline-secondary mx-1" %>
      </div>


 </div>

<br>
<div class="form-header-slim">
  <h2>Action sur le compte</h2>
</div>

<div class="form-body">
  <!-- <p>Action sur le compte</p> -->

  <% if current_user.admin? %>

      <div class="d-flex">
      <%= button_to "Suppr mon compte",
          root_path,
          disabled: true,
          class: "btn btn-danger mx-1" %>
      <p class="ml-2">Impossible du supprimer le compte administrateur</p>
      </div>
  <% else %>

      <%= link_to "Supprimer mon compte",
          registration_path(resource_name),
          data: { confirm: "Supprimer mon compte ?" },
          method: :delete,
          disabled: false,
          class: "btn btn-danger mx-1" %>


  <% end %>



<%# link_to_if current_user.admin? "Supprimer mon compte",
          registration_path(resource_name),
          data: { confirm: "Supprimer mon compte ?" },
          method: :delete,
          disabled: (current_user.admin? ? true : false),
          class: "btn btn-danger mx-1" %>



  <%# link_to 'Retour', root_path, class: "btn btn-outline-secondary mx-1" %>
</div>

<% end %>


  </div>
  </div>
